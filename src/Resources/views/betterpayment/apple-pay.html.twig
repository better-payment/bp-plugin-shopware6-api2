<script src="https://applepay.cdn-apple.com/jsapi/1.latest/apple-pay-sdk.js"></script>
<style>
    apple-pay-button {
        --apple-pay-button-width: 150px;
        --apple-pay-button-height: 30px;
        --apple-pay-button-border-radius: 3px;
        --apple-pay-button-padding: 0px 0px;
        --apple-pay-button-box-sizing: border-box;
    }
</style>

<input hidden name="betterpayment_transaction_id" id="betterpayment_transaction_id">
<input hidden name="betterpayment_transaction_status" id="betterpayment_transaction_status">

{% set applePayPluginOptions = {
    initialData: page.extensions.expressPaymentMethod.initialData,
    page: page,
    amount: amount,
    validateMerchantPath: path('frontend.betterpayment.apple-pay.validate-merchant'),
    processPaymentPath: path('frontend.betterpayment.apple-pay.process-payment'),
} %}

<apple-pay-button
        data-apple-pay-plugin
        data-apple-pay-plugin-options='{{ applePayPluginOptions|json_encode }}'
        locale='{{ app.request.locale }}'
        buttonstyle='black'
        type='plain'>
</apple-pay-button>